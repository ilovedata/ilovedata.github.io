
## ---- eval=FALSE---------------------------------------------------------
install.packages("readxl")

## ------------------------------------------------------------------------
library(readxl)

## ------------------------------------------------------------------------
seoulpop01 <- read_excel("test.xlsx", col_names = TRUE)
seoulpop01

## ------------------------------------------------------------------------
seoulpop02 <- data.frame(seoulpop01)
head(seoulpop02, n=30)

## ------------------------------------------------------------------------
df <- read.table("seoulpopall.csv", sep=",", header = TRUE)

## ------------------------------------------------------------------------
head(df)

## ------------------------------------------------------------------------
myselect <- seoulpop02$name == "합계"
myselect

## ------------------------------------------------------------------------
seoulpop02[ myselect, ]

## ------------------------------------------------------------------------
mydelete <- seoulpop02$name != "합계"
mydelete
head(seoulpop02[ mydelete, ], n=15)

## ------------------------------------------------------------------------
myselect2 <- seoulpop02$year == "2018" & seoulpop02$pop > 500000
seoulpop02[myselect2,]

## ------------------------------------------------------------------------
library(dplyr)

## ------------------------------------------------------------------------
seoulpop <- filter(seoulpop02, name != "합계")
head(seoulpop, n=30)

## ------------------------------------------------------------------------
tempdata <- filter(seoulpop,  year == "2018" , pop > 500000)
tempdata

## ------------------------------------------------------------------------
myratio <- seoulpop$old65 / seoulpop$pop
myratio

## ------------------------------------------------------------------------
seoulpop$old65ratio <- myratio
head(seoulpop)

## ------------------------------------------------------------------------
seoulpop <- mutate(seoulpop, old65per = (old65/pop)*100 )
head(seoulpop)

## ------------------------------------------------------------------------
library(tidyr)

## ------------------------------------------------------------------------
seoulpop %>% group_by(year) %>% summarise(totalpop = sum(pop)) 

## ------------------------------------------------------------------------
yeartotal <- seoulpop %>% group_by(year) %>% summarise(totalpop = sum(pop)) 
yeartotal

## ------------------------------------------------------------------------
seoulpop %>% group_by(name) %>% summarise(meanpop = mean(pop)) 

## ------------------------------------------------------------------------
seoulpop %>% group_by(name) %>% summarise(minpop=min(pop), meanpop = mean(pop), maxpop=max(pop) ) 

