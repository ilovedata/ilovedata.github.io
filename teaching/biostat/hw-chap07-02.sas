data ex7_5;
input num censor time age bmi diag_age smoke;
cards;
1   1  3.6    63  25.1  46  1
2   1  15.4  71  26.0  59  0
3   1  11.3  51  32.0  49  1
4   1  10.3  59  28.1  57  1
5   1   5.8  50  26.1  49   1
6   0   8.0  66  45.3  49   0
7   1 14.6  42  30.0  41   1
8   1 11.4  40  35.7  36   1
9   1  7.2  67  28.1  61   0
10 1  5.5  86  32.9  61   0
11 1 11.1  52 37.6  46   1
12 1 16.5  42 43.4  37   0
13 1 10.9  60 25.4  60   0
14 1  2.5  75 49.7  57   1
15 0 10.8  81 35.2  81   0
16 1  4.7  60 37.3  39   0
17 0  5.5  60 26.0  42   0
18 1  4.5  63 21.8  60   1
19 1  9.0  62 18.2  43   0
20 1  6.8  57 34.1  41   1
21 0  3.6  71 25.6  54   1
22 1 12.1 58 35.1  45   0
23 1  8.1  42 32.5  28   1
24 1 11.1 45 44.1  40   0
25 0  7.0  66 29.7  59   1
26 1  1.5  61 29.2  54   0
27 1 11.7 48 25.2  30   1
28 1  0.3  82 25.3  50   0
;
run;

proc lifereg data=ex7_5;
	class smoke;
	model time*censor(0)=age bmi diag_age smoke/ dist=weibull;
run;

proc lifetest plots=(ls, lls) graphics;
	time time*censor(0);
run;

data ex7_6;
input censor time age myeloid;
cards;
1 18 0 0
1 9 0 1
0 28 0 0
1 31 0 1
0 39 0 1
0 19 0 1
0 45 0 1
1 6 0 1
1 8 0 1
1 15 0 1
1 23 0 0
0 28 0 0
1 7 0 1
1 12 1 0
1 9 1 0
1 8 1 0
1 2 1 1
0 26 1 0
1 10 1 1
1 4 1 0
1 3 1 0
1 4 1 0
1 18 1 1
1 8 1 1
1 3 1 1
1 14 1 1
1 3 1 0
1 13 1 1
1 13 1 1
0 35 1 0
;
run;

proc phreg data=ex7_6;
	model time*censor(0)=age myeloid;
run;
